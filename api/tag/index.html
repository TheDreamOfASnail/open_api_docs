<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   
    <link rel="canonical" href="http://api-docs.convertlab.com/api/tag/"> 
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <title>客户标签 - Convertlab 文档中心</title>
    <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
    <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
    <link href="../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../css/highlight.css">
    <link href="../../test/css/print.css" rel="stylesheet">

    
</head>
<body>
    <div class="navbar navbar-default" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="http://www.convertlab.com/">Convertlab 文档中心</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav navbar-right">
                
                  <li class="pull-left active">
                    
                    <a href="../..">OpenAPI V1</a>
                    
                  </li>
                
                  <li class="pull-left">
                    
                    <a href="../../track/site_collection_guide/">前端埋点</a>
                    
                  </li>
                
                  <li class="pull-left">
                    
                    <a href="../../webhook/webhook/">Webhook</a>
                    
                  </li>
                
                  <li class="pull-left">
                    
                    <a href="../../member/">会员</a>
                    
                  </li>
                
                  <!--<li class="pull-left">
                    
                    <a href="/test/">TRY IT</a>
                    
                  </li>-->
                </ul>
            
        </div>
    </div>
</div>
    <div class="container main">
       <!--   <div class="toolbar clearfix">
  <ol class="breadcrumb pull-left">
    <li><a href="">文档</a></li>
    <li>客户标签</li>
  </ol>

  
    
      <a href="https://github.com/xsio/open_api_docs/" class="github-edit pull-right"><i class="fa fa-github"></i> Edit on GitHub</a>
    
  

</div> -->
        <div class="col-md-3"><div class="bs-sidebar hidden-print" data-spy="affix" data-offset-top="80" role="complementary">
    <ul class="nav bs-sidenav">
     
      
        
          

              <li class="">
                <a class="itm-l1" href="../..">创建集成应用</a>
                
              </li>

          

              <li class="">
                <a class="itm-l1" href="../accesstoken/">获取ACCESS_TOKEN</a>
                
              </li>

          

              <li class="">
                <a class="itm-l1" href="../customer/">客户信息</a>
                
              </li>

          

              <li class="">
                <a class="itm-l1" href="../customerevent/">客户事件</a>
                
              </li>

          

              <li class="active">
                <a class="itm-l1" href="./">客户标签</a>
                
                  <ul class="nav">
                  
                    <li class="active "><a href="#_1">客户标签模型</a></li>
                    
                  
                    <li class=""><a href="#api">创建标签分组的API</a></li>
                    
                  
                    <li class=""><a href="#api_1">获取标签分组的列表的API</a></li>
                    
                  
                    <li class=""><a href="#api_2">创建标签的API</a></li>
                    
                  
                    <li class=""><a href="#api_3">更新标签的API</a></li>
                    
                  
                    <li class=""><a href="#api_4">删除标签的API</a></li>
                    
                  
                    <li class=""><a href="#api_5">查询标签的API</a></li>
                    
                  
                    <li class=""><a href="#api_6">为客户添加标签的API</a></li>
                    
                  
                    <li class=""><a href="#api_7">将标签从客户删除的API</a></li>
                    
                  
                    <li class=""><a href="#api_8">查询客户标签API</a></li>
                    
                  
                    <li class=""><a href="#api_9">合并标签的API</a></li>
                    
                  
                  </ul>
                
              </li>

          

              <li class="">
                <a class="itm-l1" href="../list/">客户群组</a>
                
              </li>

          

              <li class="">
                <a class="itm-l1" href="../deal/">客户交易</a>
                
              </li>

          
        
      

    
      
        
      

    
      
        
      

    
      
        
      

    
    </ul>
</div></div>
        <div class="col-md-9 content-body" role="main">
             

<h1>客户标签</h1>

<h2 id="_1">客户标签模型</h2>
<p>客户标签在模型上分为标签分组(dimension)和标签(tag)</p>
<p>标签分组的模型：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>属性意义</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>dimensionKey</td>
<td>分组主键</td>
<td>String</td>
<td>最长255个字符</td>
</tr>
<tr>
<td>name</td>
<td>分组的名字</td>
<td>String</td>
<td>最长255个字符</td>
</tr>
</tbody>
</table>
<p>标签的模型：</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>属性意义</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>标签的名字</td>
<td>String</td>
<td>最长32个字符</td>
</tr>
<tr>
<td>dimension</td>
<td>所属分组的主键</td>
<td>String</td>
<td>最长255个字符</td>
</tr>
</tbody>
</table>
<h2 id="api">创建标签分组的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>HTTP请求方式：POST
https://api.convertlab.com/v1/tagdimensions?access_token={access_token}

POST请求示例：
{
  &quot;name&quot;: &quot;购买汽车分组&quot;,
  &quot;dimensionKey&quot;: &quot;purchase_car_group&quot;
}
</code></pre>

<p><strong>返回结果</strong></p>
<pre><code>{
  &quot;id&quot;: 1,
  &quot;dimensionKey&quot;: &quot;purchase_car_group&quot;,
  &quot;name&quot;: &quot;购买汽车分组&quot;,
  &quot;lastUpdated&quot;: &quot;2017-06-07T12:19:05Z&quot;,
  &quot;dateCreated&quot;: &quot;2017-06-07T12:19:05Z&quot;
}
</code></pre>

<h2 id="api_1">获取标签分组的列表的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>HTTP请求方式：GET
https://api.convertlab.com/v1/tagdimensions?access_token={access_token}&amp;max={max}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>max</td>
<td>否</td>
<td>返回的列表数量，默认为20</td>
</tr>
<tr>
<td><strong>返回结果</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre><code>[
    {
      &quot;id&quot;: 1,
      &quot;dimensionKey&quot;: &quot;purchase_car_group&quot;,
      &quot;name&quot;: &quot;购买汽车分组&quot;,
      &quot;lastUpdated&quot;: &quot;2017-06-07T12:19:05Z&quot;,
      &quot;dateCreated&quot;: &quot;2017-06-07T12:19:05Z&quot;
    }
]
</code></pre>

<p><strong>DM Hub系统内置了三个标签分组</strong></p>
<table>
<thead>
<tr>
<th>分组主键</th>
<th>分组名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>basic</td>
<td>基本属性</td>
</tr>
<tr>
<td>interests</td>
<td>兴趣偏好</td>
</tr>
<tr>
<td>consumptive_habit</td>
<td>消费倾向</td>
</tr>
</tbody>
</table>
<h2 id="api_2">创建标签的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>HTTP请求方式：POST
https://api.convertlab.com/v1/tags?access_token={access_token}

POST请求示例：
{
  &quot;name&quot;: &quot;法拉利&quot;,
  &quot;dimension&quot;: &quot;purchase_car_group&quot;
}
</code></pre>

<p><strong>参数说明</strong>
- access_token 请求接口的令牌</p>
<p><strong>返回结果</strong></p>
<pre><code>{
  &quot;id&quot;: 3,
  &quot;name&quot;: &quot;法拉利&quot;,
  &quot;dimension&quot;: &quot;purchase_car_group&quot;,
  &quot;dateCreated&quot;: &quot;2017-06-08T02:15:31Z&quot;,
  &quot;lastUpdated&quot;: &quot;2017-06-08T02:15:31Z&quot;
}
</code></pre>

<h2 id="api_3">更新标签的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>HTTP请求方式：PUT
https://api.convertlab.com/v1/tags/{id}?access_token={access_token}

POST请求示例：
{
  &quot;name&quot;: &quot;保时捷&quot;,
  &quot;dimension&quot;: &quot;purchase_car_group&quot;
}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>id</td>
<td>是</td>
<td>要更新的标签的id</td>
</tr>
<tr>
<td>name</td>
<td>否</td>
<td>将标签更新为新名字</td>
</tr>
<tr>
<td>dimension</td>
<td>否</td>
<td>将标签加入新的标签组</td>
</tr>
</tbody>
</table>
<p><strong>返回结果</strong></p>
<pre><code>{
  &quot;id&quot;: 3,
  &quot;name&quot;: &quot;保时捷&quot;,
  &quot;dimension&quot;: &quot;purchase_car_group&quot;,
  &quot;dateCreated&quot;: &quot;2017-06-08T02:15:31Z&quot;,
  &quot;lastUpdated&quot;: &quot;2017-06-08T02:15:31Z&quot;
}
</code></pre>

<h2 id="api_4">删除标签的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>http请求方式：DELETE
https://api.convertlab.com/v1/tags/{id}?access_token={access_token}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>id</td>
<td>是</td>
<td>要更新的标签的id</td>
</tr>
</tbody>
</table>
<h2 id="api_5">查询标签的API</h2>
<p><strong>调用请求</strong></p>
<pre><code>http请求方式：GET
https://api.convertlab.com/v1/tags?access_token={access_token}&amp;rows={rows}&amp;page={page}&amp;sidx={sidx}&amp;sord={sord}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>rows</td>
<td>否</td>
<td>每页的记录数</td>
</tr>
<tr>
<td>page</td>
<td>否</td>
<td>起始页数，以1开始</td>
</tr>
<tr>
<td>sidx</td>
<td>否</td>
<td>排序的字段，默认按id排序</td>
</tr>
<tr>
<td>sord</td>
<td>否</td>
<td>asc表示升序，desc表示降序，默认为升序</td>
</tr>
</tbody>
</table>
<p><strong>返回结果</strong></p>
<pre><code>{
  &quot;page&quot;: 1,
  &quot;records&quot;: 1,
  &quot;total&quot;: 1,
  &quot;rows&quot;: [
    {
      &quot;id&quot;: 3,
      &quot;dateCreated&quot;: &quot;2017-06-08T02:15:32Z&quot;,
      &quot;dimension&quot;: &quot;purchase_car_group&quot;,
      &quot;lastUpdated&quot;: &quot;2017-06-08T02:15:32Z&quot;,
      &quot;name&quot;: &quot;法拉利&quot;
    }
  ]
}
</code></pre>

<p><strong>返回结果说明</strong>
- page 结果为第几页
- records 返回的记录条数
- total 系统拥有标签的总页数
- rows 返回的记录数组</p>
<h2 id="api_6">为客户添加标签的API</h2>
<pre><code>http请求方式：POST
https://api.convertlab.com/v1/tagservice/addCustomerTag?access_token={access_token}

POST请求示例：
{
  &quot;customerId&quot;: 12345,
  &quot;tags&quot;: [
    {
    &quot;name&quot;:&quot;土豪&quot;,
    &quot;dimension&quot;:&quot;精英&quot;
     }  
   ]
}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>customerId</td>
<td>是</td>
<td>要添加标签的客户id</td>
</tr>
<tr>
<td>tags</td>
<td>是</td>
<td>要添加的标签的数组</td>
</tr>
</tbody>
</table>
<p><strong>返回结果</strong></p>
<pre><code>[
   &quot;name&quot;:&quot;土豪&quot;,
   &quot;dimension&quot;:&quot;精英&quot;
]
</code></pre>

<h2 id="api_7">将标签从客户删除的API</h2>
<pre><code>http请求方式:POST
https://api.convertlab.com/v1/tagservice/removeCustomerTag?access_token=&lt;access_token&gt;

POST请求示例：
{
  &quot;customerId&quot;: 12345,
  &quot;tags&quot;: [
    {
    &quot;name&quot;:&quot;土豪&quot;,
    &quot;dimension&quot;:&quot;精英&quot;
     }
  ]
}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>customerId</td>
<td>是</td>
<td>要删除标签的客户id</td>
</tr>
<tr>
<td>tags</td>
<td>是</td>
<td>要删除的标签的数组</td>
</tr>
</tbody>
</table>
<p><strong>返回结果</strong></p>
<pre><code>[
    &quot;name&quot;:&quot;土豪&quot;,
    &quot;dimension&quot;:&quot;精英&quot;
]
</code></pre>

<h2 id="api_8">查询客户标签API</h2>
<pre><code>http请求方式：GET
https://api.convertlab.com/v1/tagservice/getCustomerTags?access_token={access_token}&amp;customerId={customerId}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>customerId</td>
<td>是</td>
<td>要查询标签的客户的id列表，多个客户id用逗号隔开</td>
</tr>
</tbody>
</table>
<p><strong>返回结果</strong></p>
<pre><code>{
  &quot;12345&quot;: &quot;土豪,精英&quot;
}
</code></pre>

<h2 id="api_9">合并标签的API</h2>
<pre><code>http请求方式：POST
https://api.convertlab.com/v1/tags/{fromId}/mergeto/{toid}?access_token={access_token}
</code></pre>

<p><strong>参数说明</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>是否必填</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>access_token</td>
<td>是</td>
<td>访问API的令牌</td>
</tr>
<tr>
<td>fromId</td>
<td>是</td>
<td>要合并的源标签id。打上该标签的客户都会打上目标标签，同时该标签要给删除</td>
</tr>
<tr>
<td>toId</td>
<td>是</td>
<td>要合并标签的目标标签</td>
</tr>
<tr>
<td><strong>返回结果</strong></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<pre><code>{&quot;success&quot;: true}
</code></pre>
            <div class="ds-thread" data-thread-key="客户标签" data-title="客户标签" data-url=""></div>
        </div>
        
    </div>
    
    </script>
</body>

</html>